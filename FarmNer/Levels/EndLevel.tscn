[gd_scene load_steps=25 format=2]

[ext_resource path="res://FarmNer/Levels/EndLevel.gd" type="Script" id=1]
[ext_resource path="res://FarmNer/Assets/Tileset/RocksPathTilesTileset.tres" type="TileSet" id=2]
[ext_resource path="res://FarmNer/Assets/Tileset/GravesAndRocksTileset.tres" type="TileSet" id=3]
[ext_resource path="res://FarmNer/Assets/Tileset/GrassTileset.tres" type="TileSet" id=4]
[ext_resource path="res://FarmNer/Assets/Tileset/RockTileset.tres" type="TileSet" id=5]
[ext_resource path="res://FarmNer/Assets/Textures/smoke.png" type="Texture" id=6]
[ext_resource path="res://FarmNer/Assets/Tileset/FencesTileset.tres" type="TileSet" id=7]
[ext_resource path="res://FarmNer/Assets/Textures/nastyEatingDaughter.png" type="Texture" id=8]
[ext_resource path="res://FarmNer/Assets/TilesetScenes/TilesetGraveyard.png" type="Texture" id=9]
[ext_resource path="res://FarmNer/Assets/Torch/Torch.tscn" type="PackedScene" id=10]
[ext_resource path="res://FarmNer/Assets/Textures/lightTexture.png" type="Texture" id=12]
[ext_resource path="res://FarmNer/Assets/TheNasty/TheNastySound.tscn" type="PackedScene" id=15]
[ext_resource path="res://FarmNer/Assets/TheNasty/TheNasty.gd" type="Script" id=16]

[sub_resource type="Environment" id=1]
background_mode = 4
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 9.92597, 11.9778, 10.0558, 14.1197, 5.96674, 13.9899, 6.03164, 11.7831 )

[sub_resource type="TileSet" id=3]
0/name = "1"
0/texture = ExtResource( 9 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 16, 16 )
0/tile_mode = 0
0/occluder_offset = Vector2( 8, 8 )
0/navigation_offset = Vector2( 8, 8 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape_one_way = false
0/shape_one_way_margin = 0.0
0/shapes = [  ]
0/z_index = 0
1/name = "2"
1/texture = ExtResource( 9 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 16, 0, 16, 16 )
1/tile_mode = 0
1/occluder_offset = Vector2( 8, 8 )
1/navigation_offset = Vector2( 8, 8 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape_one_way = false
1/shape_one_way_margin = 0.0
1/shapes = [  ]
1/z_index = 0
2/name = "3"
2/texture = ExtResource( 9 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 32, 0, 16, 16 )
2/tile_mode = 0
2/occluder_offset = Vector2( 8, 8 )
2/navigation_offset = Vector2( 8, 8 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape_one_way = false
2/shape_one_way_margin = 0.0
2/shapes = [  ]
2/z_index = 0
3/name = "4"
3/texture = ExtResource( 9 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 48, 0, 16, 16 )
3/tile_mode = 0
3/occluder_offset = Vector2( 8, 8 )
3/navigation_offset = Vector2( 8, 8 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape_one_way = false
3/shape_one_way_margin = 0.0
3/shapes = [  ]
3/z_index = 0
4/name = "5"
4/texture = ExtResource( 9 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 0, 16, 16, 16 )
4/tile_mode = 0
4/occluder_offset = Vector2( 8, 8 )
4/navigation_offset = Vector2( 8, 8 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 2 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
13/name = "14"
13/texture = ExtResource( 9 )
13/tex_offset = Vector2( 0, 0 )
13/modulate = Color( 1, 1, 1, 1 )
13/region = Rect2( 0, 48, 16, 16 )
13/tile_mode = 0
13/occluder_offset = Vector2( 8, 8 )
13/navigation_offset = Vector2( 8, 8 )
13/shape_offset = Vector2( 0, 0 )
13/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
13/shape_one_way = false
13/shape_one_way_margin = 0.0
13/shapes = [  ]
13/z_index = 0
14/name = "15"
14/texture = ExtResource( 9 )
14/tex_offset = Vector2( 0, 0 )
14/modulate = Color( 1, 1, 1, 1 )
14/region = Rect2( 16, 48, 16, 16 )
14/tile_mode = 0
14/occluder_offset = Vector2( 8, 8 )
14/navigation_offset = Vector2( 8, 8 )
14/shape_offset = Vector2( 0, 0 )
14/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
14/shape_one_way = false
14/shape_one_way_margin = 0.0
14/shapes = [  ]
14/z_index = 0
15/name = "16"
15/texture = ExtResource( 9 )
15/tex_offset = Vector2( 0, 0 )
15/modulate = Color( 1, 1, 1, 1 )
15/region = Rect2( 32, 48, 16, 16 )
15/tile_mode = 0
15/occluder_offset = Vector2( 8, 8 )
15/navigation_offset = Vector2( 8, 8 )
15/shape_offset = Vector2( 0, 0 )
15/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
15/shape_one_way = false
15/shape_one_way_margin = 0.0
15/shapes = [  ]
15/z_index = 0
16/name = "17"
16/texture = ExtResource( 9 )
16/tex_offset = Vector2( 0, 0 )
16/modulate = Color( 1, 1, 1, 1 )
16/region = Rect2( 48, 48, 16, 16 )
16/tile_mode = 0
16/occluder_offset = Vector2( 8, 8 )
16/navigation_offset = Vector2( 8, 8 )
16/shape_offset = Vector2( 0, 0 )
16/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
16/shape_one_way = false
16/shape_one_way_margin = 0.0
16/shapes = [  ]
16/z_index = 0
22/name = "TilesetGraveyard.png 22"
22/texture = ExtResource( 9 )
22/tex_offset = Vector2( 0, 0 )
22/modulate = Color( 1, 1, 1, 1 )
22/region = Rect2( 0, 0, 80, 80 )
22/tile_mode = 2
22/autotile/icon_coordinate = Vector2( 0, 0 )
22/autotile/tile_size = Vector2( 16, 16 )
22/autotile/spacing = 0
22/autotile/occluder_map = [  ]
22/autotile/navpoly_map = [  ]
22/autotile/priority_map = [  ]
22/autotile/z_index_map = [  ]
22/occluder_offset = Vector2( 0, 0 )
22/navigation_offset = Vector2( 0, 0 )
22/shape_offset = Vector2( 0, 0 )
22/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
22/shape_one_way = false
22/shape_one_way_margin = 0.0
22/shapes = [  ]
22/z_index = 0

[sub_resource type="RectangleShape2D" id=4]

[sub_resource type="RectangleShape2D" id=5]

[sub_resource type="Shader" id=6]
code = "shader_type canvas_item;

uniform vec4 outline_color : hint_color;
uniform bool isOrbDead = false;
uniform float turnOn = 0.0;
uniform float value : hint_range(0, 1);
uniform sampler2D noise_texture;

void fragment()
{
	vec4 current_pixel = texture(TEXTURE, UV);
	vec4 noise_pixel = texture(noise_texture, UV);
	float size_x = 1.0/float(textureSize(TEXTURE, 0).x) * turnOn;
	float size_y = 1.0/float(textureSize(TEXTURE, 0).y) * turnOn;
	vec4 sprite_color = texture(TEXTURE, UV);
	float alpha = -4.0 * sprite_color.a;
	alpha += texture(TEXTURE, UV + vec2(size_x, 0)).a;
	alpha += texture(TEXTURE, UV + vec2(-size_x, 0)).a;
	alpha += texture(TEXTURE, UV + vec2(0, size_y)).a;
	alpha += texture(TEXTURE, UV + vec2(0, -size_y)).a;
	vec4 final_color = mix(sprite_color, outline_color, clamp(alpha, 0.0, 1.0));
	if (isOrbDead == false)
	{
		COLOR = vec4(final_color.rgb, clamp(abs(alpha) + sprite_color.a, 0.0, 1.0));
	}
	else if (isOrbDead == true)
	{
		if(noise_pixel.r > value)
	{
		COLOR.a -= 1f;
	}
	else
	{
		COLOR = current_pixel
	}
	}
	
}
"

[sub_resource type="OpenSimplexNoise" id=7]
octaves = 9

[sub_resource type="NoiseTexture" id=8]
width = 2048
height = 2048
noise = SubResource( 7 )

[sub_resource type="ShaderMaterial" id=9]
resource_local_to_scene = true
shader = SubResource( 6 )
shader_param/outline_color = Color( 1, 0, 0, 1 )
shader_param/isOrbDead = false
shader_param/turnOn = 0.0
shader_param/value = 1.0
shader_param/noise_texture = SubResource( 8 )

[sub_resource type="CircleShape2D" id=10]

[sub_resource type="RectangleShape2D" id=11]

[node name="EndLevel" type="Node2D"]
script = ExtResource( 1 )

[node name="Level" type="Node2D" parent="."]
scale = Vector2( 1, 0.995415 )

[node name="CanvasModulate" type="CanvasModulate" parent="Level"]
color = Color( 0.0117647, 0, 0.027451, 1 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="Level"]
environment = SubResource( 1 )

[node name="Background" type="ColorRect" parent="Level"]
margin_left = 412.0
margin_top = -185.0
margin_right = 1459.0
margin_bottom = 549.0
mouse_filter = 2
color = Color( 0.392157, 0.513726, 0.360784, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Tiles" type="Node2D" parent="."]

[node name="Rocks" type="TileMap" parent="Tiles"]
tile_set = ExtResource( 5 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -262096, 2, 0, -262095, 2, 1, -262094, 2, 2, -196561, 2, 0, -196560, 2, 65537, -196559, 2, 65537, -196558, 2, 65537, -196557, 2, 2, -131025, 2, 65536, -131024, 2, 65537, -131023, 2, 65537, -131022, 2, 65537, -131021, 2, 65538, -65490, 2, 65537, -65489, 2, 65536, -65488, 2, 65537, -65487, 2, 65537, -65486, 2, 65537, -65485, 2, 65538, 47, 2, 131072, 48, 2, 131073, 49, 2, 131073, 50, 2, 131073, 51, 2, 131074, 589899, 2, 0, 589900, 2, 2, 655434, 2, 0, 655435, 2, 65537, 655436, 2, 65537, 655437, 2, 2, 720970, 2, 65536, 720971, 2, 65537, 720972, 2, 65537, 720973, 2, 131074, 786506, 2, 131072, 786507, 2, 131073, 786508, 2, 131074, 917545, 2, 0, 917546, 2, 2, 983080, 2, 0, 983081, 2, 65537, 983082, 2, 65538, 1048615, 2, 0, 1048616, 2, 65537, 1048617, 2, 65537, 1048618, 2, 65538, 1114150, 2, 0, 1114151, 2, 65537, 1114152, 2, 65537, 1114153, 2, 65537, 1114154, 2, 65538, 1179686, 2, 65536, 1179687, 2, 65537, 1179688, 2, 65537, 1179689, 2, 131073, 1179690, 2, 131074, 1245222, 2, 131072, 1245223, 2, 65537, 1245224, 2, 65538, 1310759, 2, 131072, 1310760, 2, 131074, 1507390, 2, 0, 1507391, 2, 2, 1572925, 2, 0, 1572926, 2, 65537, 1572927, 2, 65537, 1572928, 2, 1, 1572929, 2, 2, 1638461, 2, 65536, 1638462, 2, 65537, 1638463, 2, 65537, 1638464, 2, 65537, 1638465, 2, 65538, 1703997, 2, 131072, 1703998, 2, 65537, 1703999, 2, 65537, 1704000, 2, 65537, 1704001, 2, 65537, 1704002, 2, 2, 1769534, 2, 65536, 1769535, 2, 65537, 1769536, 2, 65537, 1769537, 2, 65537, 1769538, 2, 65538, 1835070, 2, 131072, 1835071, 2, 65537, 1835072, 2, 65537, 1835073, 2, 65537, 1835074, 2, 131074, 1900607, 2, 131072, 1900608, 2, 131073, 1900609, 2, 131074 )

[node name="Grass" type="TileMap" parent="Tiles"]
tile_set = ExtResource( 4 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -393153, 1, 0, -393152, 1, 3, -327619, 1, 0, -327618, 1, 1, -327617, 1, 65538, -327616, 1, 65539, -262083, 1, 131072, -262082, 1, 65538, -262081, 1, 65538, -262080, 1, 65539, -196546, 1, 131072, -196545, 1, 131074, -196544, 1, 131075, -130993, 1, 0, -130992, 1, 2, -130991, 1, 2, -130990, 1, 3, -65457, 1, 131072, -65456, 1, 65538, -65455, 1, 65538, -65454, 1, 131075, 80, 1, 131072, 81, 1, 131075, 393263, 1, 0, 393264, 1, 3, 458798, 1, 0, 458799, 1, 65538, 458800, 1, 65538, 458801, 1, 1, 458802, 1, 3, 524334, 1, 131072, 524335, 1, 65537, 524336, 1, 65538, 524337, 1, 65538, 524338, 1, 65539, 589871, 1, 131072, 589872, 1, 131074, 589873, 1, 131073, 589874, 1, 131075, 1048636, 1, 0, 1048637, 1, 1, 1048638, 1, 1, 1048639, 1, 3, 1114162, 1, 0, 1114163, 1, 1, 1114164, 1, 3, 1114172, 1, 65536, 1114173, 1, 65538, 1114174, 1, 65538, 1114175, 1, 65537, 1114176, 1, 3, 1179698, 1, 131072, 1179699, 1, 65538, 1179700, 1, 65537, 1179701, 1, 3, 1179708, 1, 131072, 1179709, 1, 65537, 1179710, 1, 65538, 1179711, 1, 65538, 1179712, 1, 65539, 1245235, 1, 131072, 1245236, 1, 131073, 1245237, 1, 131075, 1245245, 1, 65536, 1245246, 1, 65538, 1245247, 1, 131073, 1245248, 1, 131075, 1310781, 1, 131072, 1310782, 1, 131075 )

[node name="Roads" type="TileMap" parent="Tiles"]
tile_set = ExtResource( 2 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( 65618, -1610612727, 131074, 65619, -1610612727, 65538, 65620, -1610612727, 65537, 65621, -1610612727, 131074, 65622, -1610612727, 131074, 65623, -1610612727, 65538, 65624, -1610612727, 2, 65625, -1610612727, 131074, 65626, -1610612727, 0, 131140, -1610612727, 1, 131141, -1610612727, 65536, 131142, -1610612727, 0, 131143, -1610612727, 131072, 131144, -1610612727, 131073, 131145, -1610612727, 65537, 131146, -1610612727, 1, 131147, -1610612727, 131072, 131148, -1610612727, 131074, 131149, -1610612727, 0, 131150, -1610612727, 131073, 131151, -1610612727, 131073, 131152, -1610612727, 0, 131153, -1610612727, 65536, 131154, -1610612727, 65536, 131155, -1610612727, 0, 131156, -1610612727, 131073, 131157, -1610612727, 65536, 131158, -1610612727, 65538, 131159, -1610612727, 65537, 131160, -1610612727, 0, 131161, -1610612727, 2, 131162, -1610612727, 131073, 131163, -1610612727, 1, 196674, -1610612727, 0, 196675, -1610612727, 131074, 196676, -1610612727, 65536, 196677, -1610612727, 65537, 196678, -1610612727, 131073, 196679, -1610612727, 2, 196680, -1610612727, 65536, 196681, -1610612727, 131073, 196682, -1610612727, 131073, 196683, -1610612727, 65536, 196684, -1610612727, 65538, 196685, -1610612727, 131073, 196686, -1610612727, 65537, 196687, -1610612727, 131073, 196688, -1610612727, 2, 196689, -1610612727, 2, 196690, -1610612727, 65536, 196691, -1610612727, 131073, 196692, -1610612727, 65536, 196693, -1610612727, 131072, 196694, -1610612727, 65538, 196695, -1610612727, 1, 196696, -1610612727, 65537, 196697, -1610612727, 1, 262208, -1610612727, 131073, 262209, -1610612727, 131073, 262210, -1610612727, 131073, 262211, -1610612727, 0, 262212, -1610612727, 131072, 262213, -1610612727, 2, 262214, -1610612727, 65538, 262215, -1610612727, 1, 262216, -1610612727, 65537, 262217, -1610612727, 65536, 262218, -1610612727, 65536, 262219, -1610612727, 65538, 262220, -1610612727, 65538, 262221, -1610612727, 65537, 262222, -1610612727, 131073, 262223, -1610612727, 131072, 262224, -1610612727, 131073, 262225, -1610612727, 131074, 262226, -1610612727, 65537, 262227, -1610612727, 2, 262228, -1610612727, 65538, 262229, -1610612727, 0, 262230, -1610612727, 65538, 262231, -1610612727, 65538, 327743, -1610612727, 131073, 327744, -1610612727, 0, 327745, -1610612727, 131074, 327746, -1610612727, 65536, 327747, -1610612727, 131074, 327748, -1610612727, 131074, 327749, -1610612727, 131074, 327750, -1610612727, 0, 327751, -1610612727, 131073, 327752, -1610612727, 65537, 327753, -1610612727, 131073, 327754, -1610612727, 65537, 327755, -1610612727, 131072, 327756, -1610612727, 65538, 327757, -1610612727, 0, 327758, -1610612727, 65538, 327759, -1610612727, 65537, 327760, -1610612727, 131073, 327761, -1610612727, 65538, 393277, -1610612727, 65536, 393278, -1610612727, 65538, 393279, -1610612727, 131073, 393280, -1610612727, 2, 393281, -1610612727, 2, 393282, -1610612727, 0, 393283, -1610612727, 131072, 458812, -1610612727, 131073, 458813, -1610612727, 131073, 458814, -1610612727, 1, 458815, -1610612727, 131072, 458816, -1610612727, 131072, 524346, -1610612727, 65538, 524347, -1610612727, 2, 524348, -1610612727, 131073, 524349, -1610612727, 1, 524350, -1610612727, 131074, 524351, -1610612727, 2, 589879, -1610612727, 1, 589881, -1610612727, 65538, 589882, -1610612727, 65536, 589883, -1610612727, 2, 589884, -1610612727, 131073, 655415, -1610612727, 65536, 655416, -1610612727, 1, 655417, -1610612727, 65538, 655418, -1610612727, 131074, 655419, -1610612727, 1, 720950, -1610612727, 2, 720951, -1610612727, 65537, 720952, -1610612727, 0, 720953, -1610612727, 2, 720954, -1610612727, 131073, 786486, -1610612727, 65537, 786487, -1610612727, 131074, 786488, -1610612727, 65536, 786489, -1610612727, 131073, 786490, -1610612727, 131072, 852022, -1610612727, 2, 917557, -1610612727, 131073 )

[node name="RockPieces" type="TileMap" parent="Tiles"]
tile_set = SubResource( 3 )
cell_size = Vector2( 16, 16 )
cell_quadrant_size = 32
format = 1
tile_data = PoolIntArray( -262092, 22, 65540, -262091, 22, 196608, -262090, 22, 262148, -262089, 22, 131072, -262088, 22, 3, -262087, 22, 1, -262086, 22, 1, -196549, 22, 131072, -65466, 22, 196612, 60, 16, 0, 70, 22, 65539, 71, 22, 4, 72, 22, 196608, 65589, 15, 0, 196650, 22, 65540, 196668, 14, 0, 262207, 1, 0, 327721, 22, 0, 327729, 0, 0, 393257, 22, 131073, 458793, 22, 65539, 458810, 2, 0, 458817, 2, 0, 524329, 22, 65536, 589865, 22, 131075, 655401, 22, 2, 786491, 0, 0, 852016, 15, 0, 852032, 15, 0, 1114164, 22, 65536, 1114165, 22, 262147, 1114166, 22, 4, 1114167, 22, 3, 1114168, 22, 65540, 1114169, 22, 131074, 1114170, 22, 65538, 1114171, 22, 196608, 1179699, 22, 196611 )

[node name="Graves" type="TileMap" parent="Tiles"]
z_index = 2
tile_set = ExtResource( 3 )
cell_size = Vector2( 16, 16 )
cell_quadrant_size = 32
format = 1
tile_data = PoolIntArray( 55, 7, 0, 65583, 10, 0, 131122, 7, 0, 131128, 12, 0, 262197, 8, 0, 720944, 8, 0, 852034, 8, 0 )

[node name="Fence" type="TileMap" parent="Tiles"]
z_index = 2
tile_set = ExtResource( 7 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -65492, 1, 0, -65491, 1, 1, -65490, 1, 1, -65489, 1, 1, -65488, 1, 1, -65487, 1, 1, -65486, 1, 1, -65485, 1, 1, -65484, 1, 1, -65483, 1, 1, -65482, 1, 1, -65481, 1, 1, -65480, 1, 1, -65479, 1, 1, -65478, 1, 1, -65477, 1, 1, -65476, 1, 1, -65475, 1, 1, -65474, 1, 1, -65473, 1, 1, -65472, 1, 1, -65471, 1, 1, -65470, 1, 1, -65469, 1, 1, -65468, 1, 4, 44, -1073741823, 65539, 68, -1610612735, 65539, 65580, -1073741823, 65539, 65604, -1610612735, 65539, 131116, -1073741823, 65539, 131140, -1610612735, 65539, 196652, -1073741823, 65539, 262188, -1073741823, 65539, 327724, -1073741823, 65539, 393260, -1073741823, 65539, 393284, -1610612735, 65539, 458796, -1073741823, 65539, 458820, -1610612735, 65539, 524332, -1073741823, 65539, 524356, -1610612735, 65539, 589868, -1073741823, 65539, 589892, -1610612735, 65539, 655404, -1073741823, 65539, 655428, -1610612735, 65539, 720940, -1073741823, 65539, 720964, -1610612735, 65539, 786476, -1073741823, 65539, 786500, -1610612735, 65539, 852012, -1073741823, 65539, 852036, -1610612735, 65539, 917548, -1073741823, 65539, 917572, -1610612735, 65539, 983084, 1, 0, 983085, 1, 1, 983086, 1, 1, 983087, 1, 1, 983088, 1, 1, 983089, 1, 1, 983090, 1, 1, 983091, 1, 1, 983092, 1, 1, 983093, 1, 1, 983094, 1, 1, 983095, 1, 1, 983096, 1, 1, 983097, 1, 1, 983098, 1, 1, 983099, 1, 1, 983100, 1, 1, 983101, 1, 1, 983102, 1, 1, 983103, 1, 1, 983104, 1, 1, 983105, 1, 1, 983106, 1, 1, 983107, 1, 1, 983108, 1, 4 )

[node name="Lighting" type="Node2D" parent="."]
z_index = 2
__meta__ = {
"_edit_lock_": true
}

[node name="Torch" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1369.84, 2.13147 )

[node name="Torch2" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1324.55, 90.6764 )

[node name="Torch3" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1213.53, 18.1377 )

[node name="Torch4" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1133.16, 106.342 )

[node name="Torch5" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1042.23, 48.4473 )

[node name="Torch6" parent="Lighting" instance=ExtResource( 10 )]
position = Vector2( 1004.08, 149.593 )

[node name="BlackFadeZones" type="Node2D" parent="."]

[node name="Zone1" type="Area2D" parent="BlackFadeZones"]
position = Vector2( 1080.19, 302.619 )
collision_layer = 131072
collision_mask = 131072

[node name="CollisionShape2D" type="CollisionShape2D" parent="BlackFadeZones/Zone1"]
position = Vector2( 57.525, 4.15701 )
scale = Vector2( 4.85258, 4.14327 )
shape = SubResource( 4 )

[node name="TheNasties" type="Node2D" parent="."]
position = Vector2( -83.7523, 63.979 )

[node name="TheNasty" type="Node2D" parent="TheNasties"]
position = Vector2( 962.187, 54.8053 )
script = ExtResource( 16 )

[node name="Tween" type="Tween" parent="TheNasties/TheNasty"]

[node name="TheNastySound" parent="TheNasties/TheNasty" instance=ExtResource( 15 )]
position = Vector2( -3.16492, 1.41275 )
scale = Vector2( 0.131266, 0.0971233 )

[node name="Light2D" type="Light2D" parent="TheNasties/TheNasty"]
position = Vector2( -2.03736, 3.78844 )
scale = Vector2( 0.159584, 0.142499 )
texture = ExtResource( 12 )
mode = 1

[node name="StaticBody2D" type="StaticBody2D" parent="TheNasties/TheNasty"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="TheNasties/TheNasty/StaticBody2D"]
position = Vector2( -3.16492, 2.24607 )
shape = SubResource( 5 )

[node name="Sprite" type="Sprite" parent="TheNasties/TheNasty"]
material = SubResource( 9 )
position = Vector2( -5.64497, 24.3414 )
texture = ExtResource( 8 )
region_rect = Rect2( 8, -8, 88, 56 )

[node name="CPUParticles2D" type="CPUParticles2D" parent="TheNasties/TheNasty"]
position = Vector2( -10.8298, 1.20703 )
rotation = -1.58388
scale = Vector2( 0.0526397, 0.0443228 )
amount = 16
speed_scale = 0.5
texture = ExtResource( 6 )
emission_shape = 1
emission_sphere_radius = 78.0
initial_velocity = 182.8
angular_velocity = -371.61
angular_velocity_random = 0.52

[node name="Area2D" type="Area2D" parent="TheNasties/TheNasty"]
scale = Vector2( 1.30785, 1.30785 )
collision_layer = 8192
collision_mask = 8192

[node name="CollisionShape2D" type="CollisionShape2D" parent="TheNasties/TheNasty/Area2D"]
position = Vector2( -3.16492, 1.41275 )
scale = Vector2( 0.922848, 0.922848 )
shape = SubResource( 10 )

[node name="PlayerCollisionNasty" type="Area2D" parent="TheNasties/TheNasty"]
scale = Vector2( 1.48689, 1.48689 )
collision_layer = 8192
collision_mask = 8192

[node name="CollisionShape2D" type="CollisionShape2D" parent="TheNasties/TheNasty/PlayerCollisionNasty"]
position = Vector2( -3.16492, 2.24607 )
scale = Vector2( 3.06093, 3.06093 )
shape = SubResource( 11 )
[connection signal="body_entered" from="BlackFadeZones/Zone1" to="." method="_on_Zone1_body_entered"]
[connection signal="tween_completed" from="TheNasties/TheNasty/Tween" to="TheNasties/TheNasty" method="_on_Tween_tween_completed"]
[connection signal="input_event" from="TheNasties/TheNasty/Area2D" to="TheNasties/TheNasty" method="_on_Area2D_input_event"]
[connection signal="mouse_entered" from="TheNasties/TheNasty/Area2D" to="TheNasties/TheNasty" method="_on_Area2D_mouse_entered"]
[connection signal="mouse_exited" from="TheNasties/TheNasty/Area2D" to="TheNasties/TheNasty" method="_on_Area2D_mouse_exited"]
[connection signal="body_entered" from="TheNasties/TheNasty/PlayerCollisionNasty" to="TheNasties/TheNasty" method="_on_PlayerCollisionNasty_body_entered"]
[connection signal="body_exited" from="TheNasties/TheNasty/PlayerCollisionNasty" to="TheNasties/TheNasty" method="_on_PlayerCollisionNasty_body_exited"]
